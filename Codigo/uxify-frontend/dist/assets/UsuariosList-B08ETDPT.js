import{H as y,S as C}from"./Sidebar-BHRAEOgJ.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{e as $,o as a,c as i,a as e,b as U,j,F as v,k as w,t as d,l as h,n as b,g as R,h as p,f as u,i as l,m as q}from"./index-DPFSl6X1.js";const T={data(){return{users:[],pagination:{current_page:1,last_page:1,per_page:10},selectedRole:this.$route.query.role||""}},watch:{"$route.query.role"(n){this.selectedRole=n,this.fetchUsers()}},created(){this.fetchUsers()},methods:{fetchUsers(n=1){let t=`http://127.0.0.1:8000/api/users?page=${n}`;this.selectedRole&&(t+=`&role=${this.selectedRole}`),$.get(t).then(r=>{this.users=r.data.data,this.pagination.current_page=r.data.current_page,this.pagination.last_page=r.data.last_page,this.pagination.per_page=r.data.per_page}).catch(r=>{console.error(r)})},handleRoleChange(n){this.selectedRole=n.target.value,this.$router.push({query:{role:this.selectedRole}})}}},S={class:"mb-3"},V={class:"table table-striped table-hover align-middle"},A={key:0,class:"badge text-bg-warning"},D={key:1,class:"badge text-bg-success"},I={key:2,class:"badge text-bg-resueltos"},N={class:"row"},B={class:"col d-flex justify-content-center"},F={"aria-label":"Page navigation"},H={class:"pagination"},L=["onClick"];function M(n,t,r,f,o,c){return a(),i("div",null,[e("div",S,[t[5]||(t[5]=e("label",{for:"roleFilter",class:"form-label"},"Filtrar por Rol",-1)),U(e("select",{id:"roleFilter",class:"form-select","onUpdate:modelValue":t[0]||(t[0]=s=>o.selectedRole=s),onChange:t[1]||(t[1]=(...s)=>c.handleRoleChange&&c.handleRoleChange(...s))},t[4]||(t[4]=[e("option",{value:""},"Todos",-1),e("option",{value:"Administrador"},"Administrador",-1),e("option",{value:"Tecnico"},"Técnico",-1),e("option",{value:"Operario"},"Operario",-1)]),544),[[j,o.selectedRole]])]),e("table",V,[t[7]||(t[7]=e("thead",{class:"table-dark"},[e("tr",null,[e("th",null,"Nombre"),e("th",null,"Email"),e("th",null,"Rol"),e("th",null,"Acciones")])],-1)),e("tbody",null,[(a(!0),i(v,null,w(o.users,s=>(a(),i("tr",{key:s.id},[e("td",null,d(s.name),1),e("td",null,d(s.email),1),e("td",null,[s.rol.nombre==="Administrador"?(a(),i("span",A,d(s.rol.nombre),1)):h("",!0),s.rol.nombre==="Tecnico"?(a(),i("span",D,d(s.rol.nombre),1)):h("",!0),s.rol.nombre==="Operario"?(a(),i("span",I,d(s.rol.nombre),1)):h("",!0)]),t[6]||(t[6]=e("td",null,[e("button",{class:"btn btn-sm btn-outline-secondary me-2"},[e("i",{class:"bi bi-pencil"})]),e("button",{class:"btn btn-sm btn-outline-danger"},[e("i",{class:"bi bi-trash3"})])],-1))]))),128))])]),e("div",N,[e("div",B,[e("nav",F,[e("ul",H,[e("li",{class:b(["page-item",{disabled:o.pagination.current_page===1}])},[e("button",{class:"page-link",onClick:t[2]||(t[2]=s=>c.fetchUsers(o.pagination.current_page-1))}," Anterior ")],2),(a(!0),i(v,null,w(o.pagination.last_page,s=>(a(),i("li",{class:b(["page-item",{active:s===o.pagination.current_page}]),key:s},[e("button",{class:"page-link",onClick:m=>c.fetchUsers(s)},d(s),9,L)],2))),128)),e("li",{class:b(["page-item",{disabled:o.pagination.current_page===o.pagination.last_page}])},[e("button",{class:"page-link",onClick:t[3]||(t[3]=s=>c.fetchUsers(o.pagination.current_page+1))}," Siguiente ")],2)])])])])])}const O=g(T,[["render",M],["__scopeId","data-v-62033606"]]),_="data:image/svg+xml,%3csvg%20width='17'%20height='16'%20viewBox='0%200%2017%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.1571%2014V12.6667C11.1571%2011.9594%2010.8761%2011.2811%2010.376%2010.781C9.87592%2010.281%209.19764%2010%208.4904%2010H4.4904C3.78315%2010%203.10488%2010.281%202.60478%2010.781C2.10468%2011.2811%201.82373%2011.9594%201.82373%2012.6667V14'%20stroke='white'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.4904%207.33333C7.96316%207.33333%209.15706%206.13943%209.15706%204.66667C9.15706%203.19391%207.96316%202%206.4904%202C5.01764%202%203.82373%203.19391%203.82373%204.66667C3.82373%206.13943%205.01764%207.33333%206.4904%207.33333Z'%20stroke='white'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.1567%2014V12.6667C15.1563%2012.0758%2014.9596%2011.5019%2014.5976%2011.0349C14.2357%2010.5679%2013.7288%2010.2344%2013.1567%2010.0867'%20stroke='white'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.1567%202.08667C11.7303%202.23354%2012.2388%202.56714%2012.6018%203.03488C12.9649%203.50262%2013.162%204.07789%2013.162%204.67C13.162%205.26212%2012.9649%205.83739%2012.6018%206.30513C12.2388%206.77287%2011.7303%207.10647%2011.1567%207.25334'%20stroke='white'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",E={name:"CuadrosDatosUsuarios",data(){return{selectedRole:this.$route.query.role||"Todos"}},watch:{"$route.query.role":function(n){this.selectedRole=n||"Todos"}}},z={class:"container-fluid"},G={class:"row align-items-center p-2"},P={class:"col-12"},Z={class:"d-flex gap-2"};function J(n,t,r,f,o,c){const s=u("router-link"),m=u("Container");return a(),R(m,{class:"text-white py-2"},{default:p(()=>[e("div",z,[e("div",G,[e("div",P,[e("div",Z,[l(s,{to:{path:"users",query:{role:""}},class:"card text-white bg-danger w-100 text-decoration-none"},{default:p(()=>t[0]||(t[0]=[e("div",{class:"card-body text-center p-2 d-flex flex-column justify-content-center"},[e("img",{src:_,alt:"Icono",class:"icono-tarjeta mb-2"}),e("p",{class:"mb-1"},"Usuarios Totales"),e("h3",{class:"card-title mb-0 display-6"},"20")],-1)])),_:1}),l(s,{to:{path:"users",query:{role:"Administrador"}},class:"card text-white bg-warning w-100 text-decoration-none"},{default:p(()=>t[1]||(t[1]=[e("div",{class:"card-body text-center p-3 d-flex flex-column justify-content-center"},[e("img",{src:_,alt:"Icono",class:"icono-tarjeta mb-2"}),e("p",{class:"mb-1"},"Usuarios Administradores"),e("h3",{class:"card-title mb-0 display-6"},"2")],-1)])),_:1}),l(s,{to:{path:"users",query:{role:"Tecnico"}},class:"card text-white bg-success w-100 text-decoration-none"},{default:p(()=>t[2]||(t[2]=[e("div",{class:"card-body text-center p-3 d-flex flex-column justify-content-center"},[e("img",{src:_,alt:"Icono",class:"icono-tarjeta mb-2"}),e("p",{class:"mb-1"},"Usuarios Técnicos"),e("h3",{class:"card-title mb-0 display-6"},"2")],-1)])),_:1}),l(s,{to:{path:"users",query:{role:"Operario"}},class:"card text-white bg-resueltos w-100 text-decoration-none"},{default:p(()=>t[3]||(t[3]=[e("div",{class:"card-body text-center p-3 d-flex flex-column justify-content-center"},[e("img",{src:_,alt:"Icono",class:"icono-tarjeta mb-2"}),e("p",{class:"mb-1"},"Usuarios Operarios"),e("h3",{class:"card-title mb-0 display-6"},"56")],-1)])),_:1})])])])])]),_:1})}const K=g(E,[["render",J],["__scopeId","data-v-d9c22dbf"]]),Q={components:{Header:y,Sidebar:C,CuadrosDatosUsuarios:K,UserList:O}},W={class:"container-fluid"},X={class:"row"},Y={class:"row"},ee={class:"col-2 bg-light p-0 vh-100"},te={class:"col-10 p-4"},se={class:"row mb-4"},oe={class:"row"},ne={class:"col"};function ae(n,t,r,f,o,c){const s=u("Header"),m=u("Sidebar"),k=u("CuadrosDatosUsuarios"),x=u("UserList");return a(),i("div",W,[e("div",X,[l(s)]),e("div",Y,[e("div",ee,[l(m)]),e("div",te,[e("div",se,[l(k)]),t[0]||(t[0]=q('<div class="row mb-3"><div class="col d-flex justify-content-between align-items-center"><h3 class="mb-0">Gestión de Usuarios</h3><button class="btn btn-dark"><i class="bi bi-person-plus me-2"></i> Nuevo Usuario </button></div></div>',1)),e("div",oe,[e("div",ne,[l(x,{users:n.users},null,8,["users"])])])])])])}const ce=g(Q,[["render",ae]]);export{ce as default};
