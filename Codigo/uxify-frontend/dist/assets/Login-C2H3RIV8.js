import{r as c,u as p,o as m,c as u,a as s,w as h,b as l,v as d,d as w,e as f}from"./index-DPFSl6X1.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";const v="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M15.9998%2029.3333C23.3636%2029.3333%2029.3332%2023.3638%2029.3332%2016C29.3332%208.6362%2023.3636%202.66667%2015.9998%202.66667C8.63604%202.66667%202.6665%208.6362%202.6665%2016C2.6665%2023.3638%208.63604%2029.3333%2015.9998%2029.3333Z'%20stroke='white'%20stroke-width='2.66667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M16%2017.3333C18.2091%2017.3333%2020%2015.5425%2020%2013.3333C20%2011.1242%2018.2091%209.33333%2016%209.33333C13.7909%209.33333%2012%2011.1242%2012%2013.3333C12%2015.5425%2013.7909%2017.3333%2016%2017.3333Z'%20stroke='white'%20stroke-width='2.66667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.3335%2027.5493V25.3333C9.3335%2024.6261%209.61445%2023.9478%2010.1145%2023.4477C10.6146%2022.9476%2011.2929%2022.6667%2012.0002%2022.6667H20.0002C20.7074%2022.6667%2021.3857%2022.9476%2021.8858%2023.4477C22.3859%2023.9478%2022.6668%2024.6261%2022.6668%2025.3333V27.5493'%20stroke='white'%20stroke-width='2.66667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",k={name:"Login",setup(){const n=c({email:"",password:""}),e=w(),i=p();return{data:n,submit:async()=>{try{const a=(await f.post("http://127.0.0.1:8000/api/auth/login",{email:n.email,password:n.password})).data.access_token,r=3600;a!=null&&(sessionStorage.setItem("token",a),e.push("/home"),i.success("Login Exitoso",{position:"top-right"})),setTimeout(()=>{sessionStorage.removeItem("token"),sessionStorage.removeItem("token_expiration"),e.push({path:"/"})},r*1e3)}catch(t){t.response?(console.error("Error data:",t.response.data),console.error("Error status:",t.response.status),console.error("Error headers:",t.response.headers)):console.error("Error message:",t.message)}}}}},_={class:"d-flex justify-content-center align-items-center vh-100 login-bg"},x={class:"container",style:{"max-width":"350px"}},b={class:"row justify-content-center"},C={class:"col-12 rounded p-4 shadow form-container"},y={class:"mb-3"},E={class:"mb-3"};function j(n,e,i,o,t,a){return m(),u("div",_,[s("div",x,[s("div",b,[s("div",C,[s("form",{onSubmit:e[2]||(e[2]=h((...r)=>o.submit&&o.submit(...r),["prevent"]))},[e[3]||(e[3]=s("div",{class:"text-center mb-3"},[s("div",{class:"rounded-circle profile-image-container d-flex justify-content-center align-items-center"},[s("img",{src:v,alt:"Profile",class:"rounded-circle profile-image"})])],-1)),s("div",y,[l(s("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>o.data.email=r),type:"email",class:"form-control input-opaque",placeholder:"Email"},null,512),[[d,o.data.email]])]),s("div",E,[l(s("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>o.data.password=r),type:"password",class:"form-control input-opaque",placeholder:"Contraseña"},null,512),[[d,o.data.password]])]),e[4]||(e[4]=s("div",{class:"col-12"},[s("button",{class:"btn btn-purple-button w-100 py-2",type:"submit"},"Iniciar Sesión")],-1))],32)])])])])}const S=g(k,[["render",j],["__scopeId","data-v-301f4470"]]);export{S as default};
